# Claude WebUI Helm Chart Values

replicaCount: 1

image:
  repository: node
  tag: "20-alpine"
  pullPolicy: IfNotPresent

# Command to start server (copy from configmap mounts to writable dir, no npm needed)
command: ["sh", "-c", "mkdir -p /tmp/app/public && cp /app/server.js /tmp/app/ && cp /app/public/index.html /tmp/app/public/ && cd /tmp/app && node server.js"]

# Node selector for scheduling (empty = schedule anywhere)
nodeSelector: {}

# SSH connection settings
ssh:
  host: "192.168.8.116"
  user: "tim"
  # Password is stored in secret, not here
  secretName: "claude-webui-secret"
  secretKey: "ssh-password"

# CMD API settings
cmdApi:
  url: "http://cmd-api.default.svc.cluster.local"

# Service configuration
service:
  type: ClusterIP
  port: 80
  targetPort: 3000

# Ingress via Gateway API HTTPRoute
httpRoute:
  enabled: true
  hostname: "holm.chat"
  path: "/claude"
  gateway:
    name: "main-gateway"
    namespace: "envoy-gateway-system"

# Resource limits (optional)
resources: {}
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 50m
  #   memory: 64Mi
